
CREATE TABLE usuarios (
    id SERIAL PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    saldo INT NOT NULL
);

CREATE TABLE transferencias (
    id SERIAL PRIMARY KEY,
    fecha_transferencia TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    nombre_usuario_origen VARCHAR(100) NOT NULL,
    nombre_usuario_destino VARCHAR(100) NOT NULL,
    monto_transferido INT NOT NULL
);

SELECT  FROM usuarios;

INSERT INTO usuarios (nombre, saldo) VALUES ('test', 500), ('test2', 1000);

UPDATE usuarios SET saldo = saldo - 100 WHERE nombre = 'test';
UPDATE usuarios SET saldo = saldo + 100 WHERE nombre = 'test2';

INSERT INTO transferencias (nombre_usuario_origen, nombre_usuario_destino, monto_transferido)
VALUES
(
    (SELECT nombre FROM usuarios WHERE nombre = 'test'),
    (SELECT nombre FROM usuarios WHERE nombre = 'test2'),
    100
);

SELECT 
    TO_CHAR(fecha_transferencia, 'DDMMYYYY HH24MI') AS fecha_formateada,
    nombre_usuario_origen,
    nombre_usuario_destino,
    monto_transferido
FROM 
    transferencias;